(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2531],{1016:function(e,t,s){Promise.resolve().then(s.bind(s,8658))},8658:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var r=s(7437),a=s(2265),n=s(9376),o=s(9090),i=s(9345),l=s(6337),c=s(9296),d=s(8349),u=s(9116);function h(){let e=(0,n.useRouter)(),[t,s]=(0,a.useState)(""),[h,m]=(0,a.useState)(""),[x,f]=(0,a.useState)(!1),[p,v]=(0,a.useState)(""),g=async s=>{var r,a,n,o,i,l;s.preventDefault(),v(""),f(!0);try{let s=await u.ZP.post("/auth/login",{email:t,password:h});if(s.data.success){let{user:t,token:i}=s.data.data;if("actor"!==t.role){v("Acc\xe8s r\xe9serv\xe9 aux acteurs du tourisme"),f(!1);return}localStorage.setItem("auth_token",i),localStorage.setItem("auth_user",JSON.stringify(t)),localStorage.setItem("token",i),localStorage.setItem("user",JSON.stringify(t)),u.ZP.defaults.headers.common.Authorization="Bearer ".concat(i);try{let t=await u.ZP.get("/actor/me");console.log("\uD83D\uDD0D Actor/me response:",t.data);let s=(null===(r=t.data)||void 0===r?void 0:r.data)||t.data;console.log("\uD83D\uDC64 Actor object:",s),console.log("\uD83D\uDCCB Actor type:",null==s?void 0:s.type),s&&"association"===s.type?(console.log("✅ Redirecting to association dashboard"),e.push("/association/dashboard")):(console.log("✅ Redirecting to actor dashboard"),e.push("/actor/dashboard"))}catch(t){if(console.error("❌ Error loading actor profile:",t),console.error("   - Error message:",t.message),console.error("   - Error response:",null===(a=t.response)||void 0===a?void 0:a.data),console.error("   - Error status:",null===(n=t.response)||void 0===n?void 0:n.status),(null===(o=t.response)||void 0===o?void 0:o.status)===404){v("Votre profil acteur n'est pas encore configur\xe9. Veuillez contacter l'administrateur."),f(!1);return}e.push("/actor/dashboard")}}}catch(e){v((null===(l=e.response)||void 0===l?void 0:null===(i=l.data)||void 0===i?void 0:i.message)||"Erreur de connexion. V\xe9rifiez vos identifiants.")}finally{f(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,r.jsx)(c.Z,{}),(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center py-12 px-4",children:(0,r.jsxs)("div",{className:"w-full max-w-md",children:[(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-200",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-900 rounded-full mb-4",children:(0,r.jsx)(o.Z,{className:"w-8 h-8 text-white"})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Connexion Acteur"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Acc\xe9dez \xe0 votre espace de gestion"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Acteurs et associations du tourisme"})]}),p&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,r.jsx)("p",{className:"text-sm text-red-600",children:p})}),(0,r.jsxs)("form",{onSubmit:g,className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(i.Z,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsx)("input",{id:"email",type:"email",value:t,onChange:e=>s(e.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 transition-all text-gray-900 bg-white",placeholder:"votre@email.com"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)(l.Z,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsx)("input",{id:"password",type:"password",value:h,onChange:e=>m(e.target.value),required:!0,className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 transition-all text-gray-900 bg-white",placeholder:"••••••••"})]})]}),(0,r.jsx)("button",{type:"submit",disabled:x,className:"w-full py-3 bg-blue-900 text-white rounded-xl hover:bg-blue-800 transition-colors font-semibold shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),(0,r.jsx)("span",{children:"Connexion..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Z,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"Se connecter"})]})})]}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Vous avez oubli\xe9 votre mot de passe ?"," ",(0,r.jsx)("a",{href:"#",className:"text-blue-900 hover:text-blue-700 font-medium",children:"Contactez-nous"})]})})]}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Vous n'avez pas encore de compte ?"," ",(0,r.jsx)("a",{href:"/actors",className:"text-blue-900 hover:text-blue-700 font-medium",children:"Faites une demande d'accr\xe9ditation"})]})})]})}),(0,r.jsx)(d.Z,{})]})}},9219:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]])},7760:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]])},598:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]])},6337:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},9090:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]])},9345:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},3041:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},2351:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]])},7648:function(e,t,s){"use strict";s.d(t,{default:function(){return a.a}});var r=s(2972),a=s.n(r)},9376:function(e,t,s){"use strict";var r=s(5475);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[3464,2972,9815,6258,6124,2971,2117,1744],function(){return e(e.s=1016)}),_N_E=e.O()}]);