(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9674],{6484:function(e,t,r){Promise.resolve().then(r.bind(r,8111))},8111:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var s=r(7437),a=r(2265),n=r(9397),l=r(1884),o=r(8906),d=r(2369),i=r(3247);let c=(0,r(9763).Z)("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);var u=r(4630),m=r(8930),p=r(2451),x=r(407),h=r(9116),g=r(8695);function b(){let[e,t]=(0,a.useState)([]),[r,b]=(0,a.useState)(!0),[f,y]=(0,a.useState)(""),[w,j]=(0,a.useState)(""),[v,N]=(0,a.useState)(!1),[k,_]=(0,a.useState)(!1),[Z,C]=(0,a.useState)(null),[A,S]=(0,a.useState)({current_page:1,last_page:1,per_page:25,total:0}),[E,P]=(0,a.useState)({name:"",email:"",password:"",role:"actor"}),[M,L]=(0,a.useState)({password:"",generatedPassword:""}),[q,R]=(0,a.useState)(!1);(0,a.useEffect)(()=>{U()},[f,w,A.current_page,A.per_page]);let U=async()=>{b(!0);try{let e=new URLSearchParams;f&&e.append("search",f),w&&e.append("role",w),e.append("per_page",A.per_page.toString()),e.append("page",A.current_page.toString());let r=await h.ZP.get("/users?".concat(e.toString()));r.data.success&&(t(r.data.data),r.data.pagination&&S(e=>({...e,...r.data.pagination,per_page:A.per_page})))}catch(e){console.error("Error loading users:",e),t([])}finally{b(!1)}},z=async e=>{if(confirm("\xcates-vous s\xfbr de vouloir supprimer cet utilisateur ?"))try{await h.ZP.delete("/users/".concat(e)),U()}catch(e){var t,r;alert((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||"Erreur lors de la suppression")}},D=async e=>{e.preventDefault();try{if(Z)await h.ZP.put("/users/".concat(Z.id),E);else{let e=await h.ZP.post("/users",E);e.data.generated_password&&(L({password:"",generatedPassword:e.data.generated_password}),R(!0))}N(!1),P({name:"",email:"",password:"",role:"actor"}),C(null),U()}catch(e){var t,r;alert((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||"Erreur lors de l'enregistrement")}},F=async e=>{if(e.preventDefault(),Z)try{let e=await h.ZP.post("/users/".concat(Z.id,"/reset-password"),{password:M.password||void 0});e.data.generated_password?(L(t=>({...t,generatedPassword:e.data.generated_password})),R(!0)):(_(!1),L({password:"",generatedPassword:""}),C(null),alert("Mot de passe r\xe9initialis\xe9 avec succ\xe8s"))}catch(e){var t,r;alert((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||"Erreur lors de la r\xe9initialisation")}},I=e=>{C(e),P({name:e.name,email:e.email,password:"",role:e.role}),N(!0)},T=e=>{C(e),L({password:"",generatedPassword:""}),R(!1),_(!0)};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)(g.Z,{title:"Gestion des Utilisateurs",subtitle:"G\xe9rer les comptes utilisateurs et leurs mots de passe",actions:(0,s.jsxs)("button",{onClick:()=>{C(null),P({name:"",email:"",password:"",role:"actor"}),N(!0)},className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors flex items-center gap-2 font-semibold",children:[(0,s.jsx)(n.Z,{className:"w-5 h-5"}),"Nouvel Utilisateur"]})}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,s.jsx)("div",{className:"bg-blue-600 rounded-lg shadow-md p-5 text-white",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-blue-100 text-sm font-medium mb-1",children:"Total Utilisateurs"}),(0,s.jsx)("p",{className:"text-3xl font-bold",children:A.total})]}),(0,s.jsx)("div",{className:"bg-white/20 rounded-lg p-3",children:(0,s.jsx)(l.Z,{className:"w-6 h-6"})})]})}),(0,s.jsx)("div",{className:"bg-red-600 rounded-lg shadow-md p-5 text-white",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-red-100 text-sm font-medium mb-1",children:"Administrateurs"}),(0,s.jsx)("p",{className:"text-3xl font-bold",children:e.filter(e=>"admin"===e.role).length})]}),(0,s.jsx)("div",{className:"bg-white/20 rounded-lg p-3",children:(0,s.jsx)(o.Z,{className:"w-6 h-6"})})]})}),(0,s.jsx)("div",{className:"bg-emerald-600 rounded-lg shadow-md p-5 text-white",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-emerald-100 text-sm font-medium mb-1",children:"Acteurs"}),(0,s.jsx)("p",{className:"text-3xl font-bold",children:e.filter(e=>"actor"===e.role).length})]}),(0,s.jsx)("div",{className:"bg-white/20 rounded-lg p-3",children:(0,s.jsx)(d.Z,{className:"w-6 h-6"})})]})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-5 mb-6 border border-gray-200",children:[(0,s.jsx)("h2",{className:"text-base font-semibold text-gray-800 mb-4",children:"Filtres de recherche"}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,s.jsxs)("div",{className:"flex-1 relative",children:[(0,s.jsx)(i.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,s.jsx)("input",{type:"text",placeholder:"Rechercher par nom ou email...",value:f,onChange:e=>{y(e.target.value),S(e=>({...e,current_page:1}))},className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 text-gray-900 bg-white"})]}),(0,s.jsxs)("select",{value:w,onChange:e=>{j(e.target.value),S(e=>({...e,current_page:1}))},className:"px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 bg-white",children:[(0,s.jsx)("option",{value:"",children:"Tous les r\xf4les"}),(0,s.jsx)("option",{value:"admin",children:"Administrateurs"}),(0,s.jsx)("option",{value:"actor",children:"Acteurs"})]})]})]}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:r?(0,s.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-900 border-t-transparent"})}):0===e.length?(0,s.jsxs)("div",{className:"text-center py-20",children:[(0,s.jsx)(l.Z,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500 text-lg font-medium",children:"Aucun utilisateur trouv\xe9"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gray-100 border-b-2 border-gray-300",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"ID"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Nom"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Email"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"R\xf4le"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Acteur li\xe9"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Date de cr\xe9ation"}),(0,s.jsx)("th",{className:"px-6 py-4 text-right text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["#",e.id]}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"text-sm text-gray-600",children:e.email})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"px-3 py-1.5 text-xs font-semibold rounded-full ".concat("admin"===e.role?"bg-red-100 text-red-800 border border-red-200":"bg-emerald-100 text-emerald-800 border border-emerald-200"),children:"admin"===e.role?"Administrateur":"Acteur"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.tourism_actor?(0,s.jsx)("span",{className:"text-sm text-gray-600",children:e.tourism_actor.name}):(0,s.jsx)("span",{className:"text-sm text-gray-400",children:"Aucun"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(e.created_at).toLocaleDateString("fr-FR")}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,s.jsx)("button",{onClick:()=>T(e),className:"text-blue-600 hover:text-blue-800 p-2 hover:bg-blue-50 rounded-lg transition-colors border border-transparent hover:border-blue-200",title:"R\xe9initialiser le mot de passe",children:(0,s.jsx)(c,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>I(e),className:"text-emerald-600 hover:text-emerald-800 p-2 hover:bg-emerald-50 rounded-lg transition-colors border border-transparent hover:border-emerald-200",title:"Modifier",children:(0,s.jsx)(u.Z,{className:"w-4 h-4"})}),(0,s.jsx)("button",{onClick:()=>z(e.id),className:"text-red-600 hover:text-red-800 p-2 hover:bg-red-50 rounded-lg transition-colors border border-transparent hover:border-red-200",title:"Supprimer",children:(0,s.jsx)(m.Z,{className:"w-4 h-4"})})]})})]},e.id))})]})}),A.total>0&&(0,s.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-700",children:["Affichage de ",(0,s.jsx)("span",{className:"font-medium",children:(A.current_page-1)*A.per_page+1})," \xe0"," ",(0,s.jsx)("span",{className:"font-medium",children:Math.min(A.current_page*A.per_page,A.total)})," ","sur ",(0,s.jsx)("span",{className:"font-medium",children:A.total})," r\xe9sultats"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>S(e=>({...e,current_page:e.current_page-1})),disabled:1===A.current_page,className:"p-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:(0,s.jsx)(p.Z,{className:"w-5 h-5"})}),(0,s.jsx)("div",{className:"flex items-center gap-1",children:(()=>{let{current_page:e,last_page:t}=A,r=[];if(t<=5)for(let e=1;e<=t;e++)r.push(e);else r.push(1),e>3&&r.push("..."),e>2&&r.push(e-1),1!==e&&e!==t&&r.push(e),e<t-1&&r.push(e+1),e<t-2&&r.push("..."),r.push(t);return Array.from(new Set(r))})().map((e,t)=>(0,s.jsx)("button",{onClick:()=>"number"==typeof e&&S(t=>({...t,current_page:e})),disabled:"..."===e,className:"px-4 py-2 text-sm font-medium rounded-lg transition-colors ".concat(e===A.current_page?"bg-blue-900 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"," disabled:opacity-50"),children:e},t))}),(0,s.jsx)("button",{onClick:()=>S(e=>({...e,current_page:e.current_page+1})),disabled:A.current_page===A.last_page,className:"p-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:(0,s.jsx)(x.Z,{className:"w-5 h-5"})}),(0,s.jsxs)("select",{value:A.per_page,onChange:e=>S(t=>({...t,per_page:Number(e.target.value),current_page:1})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-900 text-sm",children:[(0,s.jsx)("option",{value:25,children:"25 par page"}),(0,s.jsx)("option",{value:50,children:"50 par page"}),(0,s.jsx)("option",{value:100,children:"100 par page"})]})]})]})]})})]}),v&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200 bg-gray-50 rounded-t-xl",children:(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:Z?"Modifier l'utilisateur":"Nouvel utilisateur"})}),(0,s.jsxs)("form",{onSubmit:D,className:"p-6 space-y-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nom"}),(0,s.jsx)("input",{type:"text",value:E.name,onChange:e=>P(t=>({...t,name:e.target.value})),required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 transition-colors text-gray-900 bg-white"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),(0,s.jsx)("input",{type:"email",value:E.email,onChange:e=>P(t=>({...t,email:e.target.value})),required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 transition-colors text-gray-900 bg-white"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Mot de passe ",Z&&(0,s.jsx)("span",{className:"text-gray-500 font-normal",children:"(laisser vide pour ne pas changer)"})]}),(0,s.jsx)("input",{type:"password",value:E.password,onChange:e=>P(t=>({...t,password:e.target.value})),required:!Z,minLength:8,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 transition-colors text-gray-900 bg-white"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"R\xf4le"}),(0,s.jsxs)("select",{value:E.role,onChange:e=>P(t=>({...t,role:e.target.value})),required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 bg-white transition-colors",children:[(0,s.jsx)("option",{value:"actor",children:"Acteur"}),(0,s.jsx)("option",{value:"admin",children:"Administrateur"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{N(!1),C(null),P({name:"",email:"",password:"",role:"actor"})},className:"px-5 py-2.5 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",children:"Annuler"}),(0,s.jsx)("button",{type:"submit",className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-semibold",children:Z?"Modifier":"Cr\xe9er"})]})]})]})}),k&&Z&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-gray-200 bg-gray-50 rounded-t-xl",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"R\xe9initialiser le mot de passe"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Utilisateur: ",(0,s.jsx)("span",{className:"font-semibold",children:Z.name})]})]}),(0,s.jsx)("form",{onSubmit:F,className:"p-6 space-y-5",children:q&&M.generatedPassword?(0,s.jsxs)("div",{className:"p-5 bg-emerald-50 border-2 border-emerald-200 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsx)(c,{className:"w-5 h-5 text-emerald-600"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-emerald-800",children:"Nouveau mot de passe g\xe9n\xe9r\xe9:"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsx)("code",{className:"flex-1 px-4 py-3 bg-white border-2 border-emerald-300 rounded-lg text-sm font-mono text-gray-900 break-all",children:M.generatedPassword}),(0,s.jsx)("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(M.generatedPassword),alert("Mot de passe copi\xe9 !")},className:"px-4 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 text-sm font-semibold transition-colors whitespace-nowrap",children:"Copier"})]}),(0,s.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[(0,s.jsx)("span",{className:"text-amber-600 text-lg",children:"⚠️"}),(0,s.jsx)("p",{className:"text-xs text-amber-800 font-medium",children:"Notez ce mot de passe, il ne sera plus affich\xe9 !"})]}),(0,s.jsx)("div",{className:"flex justify-end pt-4 border-t border-emerald-200 mt-4",children:(0,s.jsx)("button",{type:"button",onClick:()=>{_(!1),C(null),L({password:"",generatedPassword:""}),R(!1),U()},className:"px-5 py-2.5 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-semibold transition-colors",children:"Fermer"})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nouveau mot de passe"}),(0,s.jsx)("input",{type:"password",value:M.password,onChange:e=>L(t=>({...t,password:e.target.value})),minLength:8,placeholder:"Laisser vide pour g\xe9n\xe9rer automatiquement",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-900 focus:border-blue-900 transition-colors text-gray-900 bg-white"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Si vide, un mot de passe al\xe9atoire s\xe9curis\xe9 sera g\xe9n\xe9r\xe9 automatiquement"})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,s.jsx)("button",{type:"button",onClick:()=>{_(!1),C(null),L({password:"",generatedPassword:""}),R(!1)},className:"px-5 py-2.5 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",children:"Annuler"}),(0,s.jsx)("button",{type:"submit",className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold transition-colors",children:"R\xe9initialiser"})]})]})})]})})]})}},8695:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(7437);function a(e){let{title:t,subtitle:r,actions:a}=e;return(0,s.jsx)("header",{className:"bg-blue-900 shadow-md border-b border-blue-800",children:(0,s.jsx)("div",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-white font-serif tracking-tight",children:t}),(0,s.jsx)("p",{className:"text-sm text-blue-200 mt-1 font-normal",children:r})]}),a&&(0,s.jsx)("div",{className:"flex items-center gap-3",children:a})]})})})}},9116:function(e,t,r){"use strict";r.d(t,{Bt:function(){return d},aL:function(){return i},eJ:function(){return o},jB:function(){return u},kN:function(){return m},sZ:function(){return n},wL:function(){return a},yM:function(){return l},zX:function(){return c}});let s=r(3464).Z.create({baseURL:"http://localhost:8000/api",headers:{Accept:"application/json"},withCredentials:!0});{let e=localStorage.getItem("auth_token");e&&(s.defaults.headers.common.Authorization="Bearer ".concat(e))}s.interceptors.request.use(e=>{{let t=localStorage.getItem("auth_token");t&&(e.headers.Authorization="Bearer ".concat(t)),e.data instanceof FormData&&delete e.headers["Content-Type"]}return e},e=>Promise.reject(e)),s.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),localStorage.removeItem("token"),localStorage.removeItem("user"),delete s.defaults.headers.common.Authorization),Promise.reject(e)});let a=async e=>{try{let t="/tourism-actors".concat(e?"?".concat(e):"");console.log("Fetching from URL:",s.defaults.baseURL+t);let r=await s.get(t);if(console.log("API Response:",r.data),r.data.success&&Array.isArray(r.data.data))return r.data.data;return console.warn("Unexpected response format:",r.data),[]}catch(e){throw console.error("Error fetching actors:",e),e.response&&console.error("Response error:",e.response.data),e}},n=async e=>{try{let t=await s.get("/events".concat(e?"?".concat(e):""));if(t.data.success&&Array.isArray(t.data.data))return t.data.data;return[]}catch(e){throw console.error("Error fetching events:",e),e}},l=async e=>{try{return(await s.post("/events",e)).data.data}catch(e){throw console.error("Error creating event:",e),e}},o=async(e,t)=>{try{return(await s.put("/events/".concat(e),t)).data.data}catch(e){throw console.error("Error updating event:",e),e}},d=async e=>{try{await s.delete("/events/".concat(e))}catch(e){throw console.error("Error deleting event:",e),e}},i=async e=>{try{let t=await s.get("/news".concat(e?"?".concat(e):""));if(t.data.success&&Array.isArray(t.data.data))return t.data.data;return[]}catch(e){throw console.error("Error fetching news:",e),e}},c=async e=>{try{return(await s.post("/news",e)).data.data}catch(e){throw console.error("Error creating news:",e),e}},u=async(e,t)=>{try{console.log("Updating news with FormData:",e),t.has("_method")||t.append("_method","PUT");let r=await s.post("/news/".concat(e),t);if(console.log("Update response:",r.data),r.data.success)return r.data.data;throw Error(r.data.message||"Erreur lors de la mise \xe0 jour")}catch(e){throw console.error("Error updating news:",e),e.response&&(console.error("Error response status:",e.response.status),console.error("Error response data:",e.response.data)),e}},m=async e=>{try{await s.delete("/news/".concat(e))}catch(e){throw console.error("Error deleting news:",e),e}};t.ZP=s},9763:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var s=r(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let r=(0,s.forwardRef)((r,l)=>{let{color:o="currentColor",size:d=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:u="",children:m,...p}=r;return(0,s.createElement)("svg",{ref:l,...a,width:d,height:d,stroke:o,strokeWidth:c?24*Number(i)/Number(d):i,className:["lucide","lucide-".concat(n(e)),u].join(" "),...p},[...t.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(m)?m:[m]])});return r.displayName="".concat(e),r}},2451:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},407:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},4630:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},9397:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3247:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8906:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},8930:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},1884:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]])},2369:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},function(e){e.O(0,[3464,2971,2117,1744],function(){return e(e.s=6484)}),_N_E=e.O()}]);