(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7206],{5346:function(e,t,r){Promise.resolve().then(r.bind(r,6396))},6396:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var s=r(7437),a=r(2265),n=r(9397),l=r(1047),i=r(2208),o=r(1723),d=r(2489),c=r(6595),u=r(3247),m=r(3774),x=r(5805),p=r(4630),h=r(8930),g=r(9116),f=r(8695),y=r(3145);function b(){let[e,t]=(0,a.useState)([]),[r,b]=(0,a.useState)(!0),[j,N]=(0,a.useState)(""),[w,k]=(0,a.useState)(""),[_,C]=(0,a.useState)("all"),[S,Z]=(0,a.useState)(!1),[E,A]=(0,a.useState)(null),[M,P]=(0,a.useState)({current_page:1,last_page:1,per_page:15,total:0}),[L,R]=(0,a.useState)({total:0,published:0,draft:0,cancelled:0,featured:0});(0,a.useEffect)(()=>{q()},[w,_,M.current_page]);let q=async()=>{b(!0);try{let r=new URLSearchParams;"all"!==_?r.append("status",_):r.append("status","all"),w&&r.append("category",w),r.append("per_page",M.per_page.toString()),r.append("page",M.current_page.toString());let s=await g.ZP.get("/events?".concat(r.toString()));if(s.data.success){var e;let r=s.data.data;t(r),R({total:(null===(e=s.data.pagination)||void 0===e?void 0:e.total)||r.length,published:r.filter(e=>"published"===e.status).length,draft:r.filter(e=>"draft"===e.status).length,cancelled:r.filter(e=>"cancelled"===e.status).length,featured:r.filter(e=>e.featured).length}),s.data.pagination&&P(e=>({...e,...s.data.pagination,per_page:M.per_page}))}}catch(e){console.error("Error loading events:",e),t([])}finally{b(!1)}},D=async e=>{if(confirm("\xcates-vous s\xfbr de vouloir supprimer cet \xe9v\xe9nement ?"))try{await (0,g.Bt)(e),q()}catch(e){console.error("Error deleting event:",e),alert("Erreur lors de la suppression")}},I=e=>{A(e),Z(!0)},F=e=>new Date(e).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}),T=e=>e?e.substring(0,5):"",z=e.filter(e=>{if(j){let t=j.toLowerCase();return e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.location.toLowerCase().includes(t)}return!0});return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)(f.Z,{title:"\xc9v\xe9nements",subtitle:"Gestion des \xe9v\xe9nements"}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-serif font-bold tracking-tight text-gray-900",children:"Gestion des \xc9v\xe9nements"}),(0,s.jsx)("p",{className:"text-gray-600 mt-1",children:"G\xe9rez tous les \xe9v\xe9nements professionnels"})]}),(0,s.jsxs)("button",{onClick:()=>{A(null),Z(!0)},className:"flex items-center gap-2 px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors shadow-md hover:shadow-lg font-medium",style:{backgroundColor:"#CC0000"},children:[(0,s.jsx)(n.Z,{className:"w-5 h-5"}),"Nouvel \xe9v\xe9nement"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[(0,s.jsx)("div",{className:"bg-blue-600 rounded-lg shadow-md p-5 text-white",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-blue-100 text-sm font-medium mb-1",children:"Total"}),(0,s.jsx)("p",{className:"text-3xl font-bold",children:L.total})]}),(0,s.jsx)("div",{className:"bg-white/20 rounded-lg p-3",children:(0,s.jsx)(l.Z,{className:"w-6 h-6"})})]})}),(0,s.jsx)("div",{className:"bg-emerald-600 rounded-lg shadow-md p-5 text-white",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-emerald-100 text-sm font-medium mb-1",children:"Publi\xe9s"}),(0,s.jsx)("p",{className:"text-3xl font-bold",children:L.published})]}),(0,s.jsx)("div",{className:"bg-white/20 rounded-lg p-3",children:(0,s.jsx)(i.Z,{className:"w-6 h-6"})})]})}),(0,s.jsx)("div",{className:"bg-gray-500 rounded-lg shadow-md p-5 text-white",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-200 text-sm font-medium mb-1",children:"Brouillons"}),(0,s.jsx)("p",{className:"text-3xl font-bold",children:L.draft})]}),(0,s.jsx)("div",{className:"bg-white/20 rounded-lg p-3",children:(0,s.jsx)(o.Z,{className:"w-6 h-6"})})]})}),(0,s.jsx)("div",{className:"bg-red-600 rounded-lg shadow-md p-5 text-white",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-red-100 text-sm font-medium mb-1",children:"Annul\xe9s"}),(0,s.jsx)("p",{className:"text-3xl font-bold",children:L.cancelled})]}),(0,s.jsx)("div",{className:"bg-white/20 rounded-lg p-3",children:(0,s.jsx)(d.Z,{className:"w-6 h-6"})})]})}),(0,s.jsx)("div",{className:"bg-amber-500 rounded-lg shadow-md p-5 text-white",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-amber-100 text-sm font-medium mb-1",children:"\xc0 la une"}),(0,s.jsx)("p",{className:"text-3xl font-bold",children:L.featured})]}),(0,s.jsx)("div",{className:"bg-white/20 rounded-lg p-3",children:(0,s.jsx)(c.Z,{className:"w-6 h-6"})})]})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6 border border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Filtres et Recherche"}),(0,s.jsx)("button",{onClick:()=>{N(""),k(""),C("all"),q()},className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"R\xe9initialiser"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recherche"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(u.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,s.jsx)("input",{type:"text",value:j,onChange:e=>N(e.target.value),placeholder:"Rechercher un \xe9v\xe9nement...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cat\xe9gorie"}),(0,s.jsxs)("select",{value:w,onChange:e=>k(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white",children:[(0,s.jsx)("option",{value:"",children:"Toutes les cat\xe9gories"}),(0,s.jsx)("option",{value:"Conf\xe9rence",children:"Conf\xe9rence"}),(0,s.jsx)("option",{value:"Salon",children:"Salon"}),(0,s.jsx)("option",{value:"Formation",children:"Formation"}),(0,s.jsx)("option",{value:"Networking",children:"Networking"}),(0,s.jsx)("option",{value:"Autre",children:"Autre"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),(0,s.jsxs)("select",{value:_,onChange:e=>C(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white",children:[(0,s.jsx)("option",{value:"all",children:"Tous les statuts"}),(0,s.jsx)("option",{value:"draft",children:"Brouillon"}),(0,s.jsx)("option",{value:"published",children:"Publi\xe9"}),(0,s.jsx)("option",{value:"cancelled",children:"Annul\xe9"})]})]}),(0,s.jsx)("div",{className:"flex items-end",children:(0,s.jsx)("button",{onClick:q,className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Actualiser"})})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-gray-200",children:[(0,s.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Liste des \xc9v\xe9nements"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[z.length," \xe9v\xe9nement(s) trouv\xe9(s)"]})]}),r?(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-gray-600",children:"Chargement des \xe9v\xe9nements..."})}):(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Image"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Titre"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Cat\xe9gorie"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Lieu"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Statut"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===z.length?(0,s.jsx)("tr",{children:(0,s.jsxs)("td",{colSpan:7,className:"px-6 py-12 text-center",children:[(0,s.jsx)(l.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600 font-medium",children:"Aucun \xe9v\xe9nement trouv\xe9"}),(0,s.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:'Cr\xe9ez votre premier \xe9v\xe9nement en cliquant sur "Nouvel \xe9v\xe9nement"'})]})}):z.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"relative w-20 h-20 rounded-lg overflow-hidden border border-gray-200",children:(0,s.jsx)(y.default,{src:e.image||"https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=800&h=400&fit=crop",alt:e.title,fill:!0,className:"object-cover"})})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:e.title}),e.featured&&(0,s.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,s.jsx)(c.Z,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),(0,s.jsx)("span",{className:"text-xs text-yellow-600 font-medium",children:"\xc0 la une"})]})]})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-primary bg-opacity-10 text-primary",children:e.category})}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-gray-900",children:F(e.event_date)}),e.start_time&&(0,s.jsxs)("div",{className:"text-xs text-gray-500 flex items-center gap-1 mt-1",children:[(0,s.jsx)(o.Z,{className:"w-3 h-3"}),T(e.start_time),e.end_time&&" - ".concat(T(e.end_time))]})]}),(0,s.jsxs)("td",{className:"px-6 py-4",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-900 flex items-center gap-1",children:[(0,s.jsx)(m.Z,{className:"w-4 h-4 text-gray-400"}),e.location]}),e.participants>0&&(0,s.jsxs)("div",{className:"text-xs text-gray-500 flex items-center gap-1 mt-1",children:[(0,s.jsx)(x.Z,{className:"w-3 h-3"}),e.participants," participants"]})]}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"px-3 py-1 text-xs font-medium rounded-full ".concat("published"===e.status?"bg-green-100 text-green-800":"draft"===e.status?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"),children:"published"===e.status?"Publi\xe9":"draft"===e.status?"Brouillon":"Annul\xe9"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("button",{onClick:()=>I(e),className:"text-blue-600 hover:text-blue-800 transition-colors",title:"Modifier",children:(0,s.jsx)(p.Z,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>D(e.id),className:"text-red-600 hover:text-red-800 transition-colors",title:"Supprimer",children:(0,s.jsx)(h.Z,{className:"w-5 h-5"})})]})})]},e.id))})]})})]}),M.last_page>1&&(0,s.jsx)("div",{className:"mt-6 bg-white rounded-lg shadow-md p-4 border border-gray-200",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,s.jsxs)("span",{className:"font-medium",children:["Page ",M.current_page]})," sur ",M.last_page,(0,s.jsxs)("span",{className:"text-gray-500 ml-2",children:["(",M.total," \xe9v\xe9nement",M.total>1?"s":"",")"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>P(e=>({...e,current_page:Math.max(1,e.current_page-1)})),disabled:1===M.current_page,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors font-medium",children:"Pr\xe9c\xe9dent"}),(0,s.jsx)("button",{onClick:()=>P(e=>({...e,current_page:Math.min(e.last_page,e.current_page+1)})),disabled:M.current_page===M.last_page,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors font-medium",children:"Suivant"})]})]})})]}),S&&(0,s.jsx)(v,{event:E,onClose:()=>{Z(!1),A(null),q()}})]})}function v(e){let{event:t,onClose:r}=e,[n,l]=(0,a.useState)({title:(null==t?void 0:t.title)||"",description:(null==t?void 0:t.description)||"",category:(null==t?void 0:t.category)||"Conf\xe9rence",event_date:(null==t?void 0:t.event_date)?new Date(t.event_date).toISOString().split("T")[0]:"",start_time:(null==t?void 0:t.start_time)||"",end_time:(null==t?void 0:t.end_time)||"",location:(null==t?void 0:t.location)||"",participants:(null==t?void 0:t.participants)||0,featured:(null==t?void 0:t.featured)||!1,status:(null==t?void 0:t.status)||"published"}),[i,o]=(0,a.useState)(null),[c,u]=(0,a.useState)((null==t?void 0:t.image)||null),[m,x]=(0,a.useState)(!1),[p,h]=(0,a.useState)(null),f=async e=>{e.preventDefault(),x(!0),h(null);try{let e=new FormData;e.append("title",n.title),e.append("description",n.description),e.append("category",n.category),e.append("event_date",n.event_date),n.start_time&&e.append("start_time",n.start_time),n.end_time&&e.append("end_time",n.end_time),e.append("location",n.location),e.append("participants",n.participants.toString()),e.append("featured",n.featured?"1":"0"),e.append("status",n.status),i&&e.append("image",i),t?await (0,g.eJ)(t.id,e):await (0,g.yM)(e),r()}catch(t){var s,a,l,o;let e=(null===(a=t.response)||void 0===a?void 0:null===(s=a.data)||void 0===s?void 0:s.message)||(null===(o=t.response)||void 0===o?void 0:null===(l=o.data)||void 0===l?void 0:l.errors)||"Erreur lors de l'enregistrement";h("string"==typeof e?e:JSON.stringify(e))}finally{x(!1)}};return(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:e=>e.target===e.currentTarget&&r(),children:(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-2xl font-serif font-bold tracking-tight text-gray-900",children:t?"Modifier l'\xe9v\xe9nement":"Nouvel \xe9v\xe9nement"}),(0,s.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,s.jsx)(d.Z,{className:"w-6 h-6"})})]}),(0,s.jsx)("div",{className:"p-6",children:(0,s.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Titre *"}),(0,s.jsx)("input",{type:"text",value:n.title,onChange:e=>l(t=>({...t,title:e.target.value})),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Ex: Salon International du Tourisme"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description *"}),(0,s.jsx)("textarea",{value:n.description,onChange:e=>l(t=>({...t,description:e.target.value})),required:!0,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"D\xe9crivez l'\xe9v\xe9nement en d\xe9tail..."})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Cat\xe9gorie *"}),(0,s.jsxs)("select",{value:n.category,onChange:e=>l(t=>({...t,category:e.target.value})),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,s.jsx)("option",{value:"Conf\xe9rence",children:"Conf\xe9rence"}),(0,s.jsx)("option",{value:"Salon",children:"Salon"}),(0,s.jsx)("option",{value:"Formation",children:"Formation"}),(0,s.jsx)("option",{value:"Networking",children:"Networking"}),(0,s.jsx)("option",{value:"Autre",children:"Autre"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Statut"}),(0,s.jsxs)("select",{value:n.status,onChange:e=>l(t=>({...t,status:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",children:[(0,s.jsx)("option",{value:"draft",children:"Brouillon"}),(0,s.jsx)("option",{value:"published",children:"Publi\xe9"}),(0,s.jsx)("option",{value:"cancelled",children:"Annul\xe9"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date de l'\xe9v\xe9nement *"}),(0,s.jsx)("input",{type:"date",value:n.event_date,onChange:e=>l(t=>({...t,event_date:e.target.value})),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Heure de d\xe9but"}),(0,s.jsx)("input",{type:"time",value:n.start_time,onChange:e=>l(t=>({...t,start_time:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Heure de fin"}),(0,s.jsx)("input",{type:"time",value:n.end_time,onChange:e=>l(t=>({...t,end_time:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Lieu *"}),(0,s.jsx)("input",{type:"text",value:n.location,onChange:e=>l(t=>({...t,location:e.target.value})),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Ex: Palais des Congr\xe8s, Casablanca"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nombre de participants"}),(0,s.jsx)("input",{type:"number",value:n.participants,onChange:e=>l(t=>({...t,participants:parseInt(e.target.value)||0})),min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:n.featured,onChange:e=>l(t=>({...t,featured:e.target.checked})),className:"w-5 h-5 text-primary border-gray-300 rounded focus:ring-primary"}),(0,s.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"Mettre en avant (\xc0 la une)"})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Image de l'\xe9v\xe9nement"}),(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0];o(t);let r=new FileReader;r.onloadend=()=>{u(r.result)},r.readAsDataURL(t)}},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"}),c&&(0,s.jsx)("div",{className:"mt-4 relative w-full h-64 rounded-lg overflow-hidden border border-gray-200",children:(0,s.jsx)(y.default,{src:c,alt:"Preview",fill:!0,className:"object-cover"})})]}),p&&(0,s.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:[(0,s.jsx)("p",{className:"font-medium",children:"Erreur"}),(0,s.jsx)("p",{className:"text-sm mt-1",children:p})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-4 pt-4 border-t border-gray-200",children:[(0,s.jsx)("button",{type:"button",onClick:r,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Annuler"}),(0,s.jsx)("button",{type:"submit",disabled:m,className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 font-medium shadow-md",style:{backgroundColor:"#CC0000"},children:m?"Enregistrement...":t?"Modifier":"Cr\xe9er"})]})]})})]})})}},8695:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(7437);function a(e){let{title:t,subtitle:r,actions:a}=e;return(0,s.jsx)("header",{className:"bg-blue-900 shadow-md border-b border-blue-800",children:(0,s.jsx)("div",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-white font-serif tracking-tight",children:t}),(0,s.jsx)("p",{className:"text-sm text-blue-200 mt-1 font-normal",children:r})]}),a&&(0,s.jsx)("div",{className:"flex items-center gap-3",children:a})]})})})}},9116:function(e,t,r){"use strict";r.d(t,{Bt:function(){return o},aL:function(){return d},eJ:function(){return i},jB:function(){return u},kN:function(){return m},sZ:function(){return n},wL:function(){return a},yM:function(){return l},zX:function(){return c}});let s=r(3464).Z.create({baseURL:"http://localhost:8000/api",headers:{Accept:"application/json"},withCredentials:!0});{let e=localStorage.getItem("auth_token");e&&(s.defaults.headers.common.Authorization="Bearer ".concat(e))}s.interceptors.request.use(e=>{{let t=localStorage.getItem("auth_token");t&&(e.headers.Authorization="Bearer ".concat(t)),e.data instanceof FormData&&delete e.headers["Content-Type"]}return e},e=>Promise.reject(e)),s.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),localStorage.removeItem("token"),localStorage.removeItem("user"),delete s.defaults.headers.common.Authorization),Promise.reject(e)});let a=async e=>{try{let t="/tourism-actors".concat(e?"?".concat(e):"");console.log("Fetching from URL:",s.defaults.baseURL+t);let r=await s.get(t);if(console.log("API Response:",r.data),r.data.success&&Array.isArray(r.data.data))return r.data.data;return console.warn("Unexpected response format:",r.data),[]}catch(e){throw console.error("Error fetching actors:",e),e.response&&console.error("Response error:",e.response.data),e}},n=async e=>{try{let t=await s.get("/events".concat(e?"?".concat(e):""));if(t.data.success&&Array.isArray(t.data.data))return t.data.data;return[]}catch(e){throw console.error("Error fetching events:",e),e}},l=async e=>{try{return(await s.post("/events",e)).data.data}catch(e){throw console.error("Error creating event:",e),e}},i=async(e,t)=>{try{return(await s.put("/events/".concat(e),t)).data.data}catch(e){throw console.error("Error updating event:",e),e}},o=async e=>{try{await s.delete("/events/".concat(e))}catch(e){throw console.error("Error deleting event:",e),e}},d=async e=>{try{let t=await s.get("/news".concat(e?"?".concat(e):""));if(t.data.success&&Array.isArray(t.data.data))return t.data.data;return[]}catch(e){throw console.error("Error fetching news:",e),e}},c=async e=>{try{return(await s.post("/news",e)).data.data}catch(e){throw console.error("Error creating news:",e),e}},u=async(e,t)=>{try{console.log("Updating news with FormData:",e),t.has("_method")||t.append("_method","PUT");let r=await s.post("/news/".concat(e),t);if(console.log("Update response:",r.data),r.data.success)return r.data.data;throw Error(r.data.message||"Erreur lors de la mise \xe0 jour")}catch(e){throw console.error("Error updating news:",e),e.response&&(console.error("Error response status:",e.response.status),console.error("Error response data:",e.response.data)),e}},m=async e=>{try{await s.delete("/news/".concat(e))}catch(e){throw console.error("Error deleting news:",e),e}};t.ZP=s},1047:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},1723:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},2208:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4630:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},9397:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3247:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},6595:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},8930:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},5805:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},2489:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5523:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return s}});let s=r(7043)._(r(2265)).default.createContext(null)}},function(e){e.O(0,[3464,9815,2971,2117,1744],function(){return e(e.s=5346)}),_N_E=e.O()}]);