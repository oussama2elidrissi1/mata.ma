(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7089],{4094:function(e,s,t){Promise.resolve().then(t.bind(t,7758))},7758:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return M}});var a=t(7437),r=t(2265),n=t(8842),i=t(265),o=t(5051),c=t(8420),l=t(6901),d=t(5131),u=t(9763);let m=(0,u.Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var x=t(3247),p=t(9397),h=t(9345),g=t(3041),y=t(3774);let f=(0,u.Z)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var b=t(4630),j=t(8930),v=t(2451),N=t(407),w=t(9116),k=t(2489),C=t(9114);function Z(e){let{association:s,onClose:t}=e,{t:n}=(0,C.$)(),[i,o]=(0,r.useState)({name:"",name_ar:"",description:"",description_ar:"",address:"",city:"",region:"",postal_code:"",country:"Morocco",phone:"",email:"",website:"",status:"pending",verified:!1}),[c,l]=(0,r.useState)(!1),[d,u]=(0,r.useState)("");(0,r.useEffect)(()=>{s&&o({name:s.name,name_ar:s.name_ar||"",description:s.description||"",description_ar:s.description_ar||"",address:s.address,city:s.city,region:s.region,postal_code:s.postal_code||"",country:s.country||"Morocco",phone:s.phone||"",email:s.email||"",website:s.website||"",status:s.status,verified:s.verified})},[s]);let m=async e=>{e.preventDefault(),u(""),l(!0);try{let e={...i,type:"association",category:null};s?await w.ZP.put("/tourism-actors/".concat(s.id),e):await w.ZP.post("/tourism-actors",e),t()}catch(e){var a,r;u((null===(r=e.response)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.message)||n("admin.associations.saveError"))}finally{l(!1)}};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"p-6 border-b flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:s?n("admin.associations.editAssociation"):n("admin.associations.addAssociation")}),(0,a.jsx)("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,a.jsx)(k.Z,{className:"w-5 h-5"})})]}),d&&(0,a.jsx)("div",{className:"mx-6 mt-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm text-red-600",children:d})}),(0,a.jsxs)("form",{onSubmit:m,className:"p-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n("admin.associations.form.name")," *"]}),(0,a.jsx)("input",{type:"text",required:!0,value:i.name,onChange:e=>o({...i,name:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:border-red-600",placeholder:n("admin.associations.form.namePlaceholder")})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("admin.associations.form.nameAr")}),(0,a.jsx)("input",{type:"text",value:i.name_ar,onChange:e=>o({...i,name_ar:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:border-red-600",placeholder:n("admin.associations.form.nameArPlaceholder")})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("admin.associations.form.description")}),(0,a.jsx)("textarea",{value:i.description,onChange:e=>o({...i,description:e.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:border-red-600 resize-none",placeholder:n("admin.associations.form.descriptionPlaceholder")})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("admin.associations.form.descriptionAr")}),(0,a.jsx)("textarea",{value:i.description_ar,onChange:e=>o({...i,description_ar:e.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:border-red-600 resize-none",placeholder:n("admin.associations.form.descriptionArPlaceholder")})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n("admin.associations.form.email")," *"]}),(0,a.jsx)("input",{type:"email",required:!0,value:i.email,onChange:e=>o({...i,email:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:border-red-600",placeholder:"contact@association.ma"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("admin.associations.form.phone")}),(0,a.jsx)("input",{type:"tel",value:i.phone,onChange:e=>o({...i,phone:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:border-red-600",placeholder:"+212 6XX XXX XXX"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("admin.associations.form.website")}),(0,a.jsx)("input",{type:"url",value:i.website,onChange:e=>o({...i,website:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:border-red-600",placeholder:"https://www.association.ma"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n("admin.associations.form.status")," *"]}),(0,a.jsxs)("select",{required:!0,value:i.status,onChange:e=>o({...i,status:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:border-red-600",children:[(0,a.jsx)("option",{value:"pending",children:n("admin.associations.status.pending")}),(0,a.jsx)("option",{value:"active",children:n("admin.associations.status.active")}),(0,a.jsx)("option",{value:"inactive",children:n("admin.associations.status.inactive")}),(0,a.jsx)("option",{value:"suspended",children:n("admin.associations.status.suspended")})]})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n("admin.associations.form.address")," *"]}),(0,a.jsx)("input",{type:"text",required:!0,value:i.address,onChange:e=>o({...i,address:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:border-red-600",placeholder:n("admin.associations.form.addressPlaceholder")})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n("admin.associations.form.city")," *"]}),(0,a.jsx)("input",{type:"text",required:!0,value:i.city,onChange:e=>o({...i,city:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:border-red-600",placeholder:n("admin.associations.form.cityPlaceholder")})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n("admin.associations.form.region")," *"]}),(0,a.jsx)("input",{type:"text",required:!0,value:i.region,onChange:e=>o({...i,region:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:border-red-600",placeholder:n("admin.associations.form.regionPlaceholder")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("admin.associations.form.postalCode")}),(0,a.jsx)("input",{type:"text",value:i.postal_code,onChange:e=>o({...i,postal_code:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:border-red-600",placeholder:"10000"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n("admin.associations.form.country")," *"]}),(0,a.jsx)("input",{type:"text",required:!0,value:i.country,onChange:e=>o({...i,country:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:border-red-600",placeholder:"Morocco"})]}),(0,a.jsx)("div",{className:"md:col-span-2",children:(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:i.verified,onChange:e=>o({...i,verified:e.target.checked}),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:n("admin.associations.form.verified")})]})})]}),(0,a.jsxs)("div",{className:"mt-6 flex justify-end gap-4",children:[(0,a.jsx)("button",{type:"button",onClick:t,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:n("admin.associations.cancel")}),(0,a.jsx)("button",{type:"submit",disabled:c,className:"px-6 py-2 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"#CC0000"},onMouseEnter:e=>!c&&(e.currentTarget.style.backgroundColor="#B30000"),onMouseLeave:e=>!c&&(e.currentTarget.style.backgroundColor="#CC0000"),children:c?n("admin.associations.saving"):s?n("admin.associations.update"):n("admin.associations.create")})]})]})]})})}var _=t(8695);function M(){let{t:e}=(0,C.$)(),[s,t]=(0,r.useState)([]),[u,k]=(0,r.useState)(!0),[M,A]=(0,r.useState)(""),[P,q]=(0,r.useState)(""),[S,E]=(0,r.useState)(!1),[L,z]=(0,r.useState)(null),[X,D]=(0,r.useState)({current_page:1,last_page:1,per_page:25,total:0}),[T,B]=(0,r.useState)("id"),[H,U]=(0,r.useState)("desc"),[V,R]=(0,r.useState)({total:0,active:0,pending:0,withAccount:0});(0,r.useEffect)(()=>{$()},[M,P,X.current_page,X.per_page,T,H]);let $=async()=>{k(!0);try{let e=new URLSearchParams;e.append("type","association"),M&&e.append("search",M),P?e.append("status",P):e.append("all_status","true"),e.append("per_page",X.per_page.toString()),e.append("page",X.current_page.toString()),e.append("sort_by",T),e.append("sort_direction",H);let s=await w.ZP.get("/tourism-actors?".concat(e.toString()));if(s.data.success){let e=s.data.data,a=await Promise.all(e.map(async e=>{if(e.user_id)try{let s=await w.ZP.get("/users/".concat(e.user_id));return{...e,user:s.data.data||s.data}}catch(e){}return e}));t(a),s.data.pagination&&(D(e=>({...e,...s.data.pagination,per_page:X.per_page})),R({total:s.data.pagination.total,active:e.filter(e=>"active"===e.status).length,pending:e.filter(e=>"pending"===e.status).length,withAccount:a.filter(e=>e.user_id).length}))}}catch(e){console.error("Error loading associations:",e),t([])}finally{k(!1)}},F=async s=>{if(confirm(e("admin.associations.confirmDelete")))try{await w.ZP.delete("/tourism-actors/".concat(s)),$()}catch(s){console.error("Error deleting association:",s),alert(e("admin.associations.deleteError"))}},O=e=>{z(e),E(!0)},W=async s=>{if(confirm(e("admin.associations.confirmCreateAccount")))try{await w.ZP.post("/accreditations/".concat(s,"/approve-without-badge")),$(),alert(e("admin.associations.accountCreated"))}catch(s){var t,a;console.error("Error creating account:",s),alert((null===(a=s.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||e("admin.associations.accountError"))}},I=async(s,t)=>{if(confirm(e("admin.associations.confirmDeleteAccount")))try{await w.ZP.delete("/users/".concat(s)),await w.ZP.put("/tourism-actors/".concat(t),{user_id:null}),$(),alert(e("admin.associations.accountDeleted"))}catch(s){console.error("Error deleting account:",s),alert(e("admin.associations.deleteAccountError"))}},G=e=>{T===e?U("asc"===H?"desc":"asc"):(B(e),U("asc")),D(e=>({...e,current_page:1}))},J=e=>{D(s=>({...s,current_page:e})),window.scrollTo({top:0,behavior:"smooth"})},K=e=>{D(s=>({...s,per_page:e,current_page:1}))},Q=e=>{let{field:s}=e;return T!==s?(0,a.jsx)(n.Z,{className:"w-4 h-4 text-gray-400"}):"asc"===H?(0,a.jsx)(i.Z,{className:"w-4 h-4",style:{color:"#CC0000"}}):(0,a.jsx)(o.Z,{className:"w-4 h-4",style:{color:"#CC0000"}})},Y={active:e("admin.associations.status.active"),inactive:e("admin.associations.status.inactive"),pending:e("admin.associations.status.pending"),suspended:e("admin.associations.status.suspended")},ee=e=>{let s={active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",pending:"bg-yellow-100 text-yellow-800",suspended:"bg-red-100 text-red-800"};return(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(s[e]||s.inactive),children:Y[e]||e})};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(_.Z,{title:e("admin.associations.title"),subtitle:e("admin.associations.subtitle")}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e("admin.associations.stats.total")}),(0,a.jsx)("p",{className:"text-2xl font-bold mt-1",style:{color:"#CC0000"},children:V.total})]}),(0,a.jsx)(c.Z,{className:"w-8 h-8 text-gray-400"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e("admin.associations.stats.active")}),(0,a.jsx)("p",{className:"text-2xl font-bold mt-1 text-green-600",children:V.active})]}),(0,a.jsx)(l.Z,{className:"w-8 h-8 text-green-400"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e("admin.associations.stats.pending")}),(0,a.jsx)("p",{className:"text-2xl font-bold mt-1 text-yellow-600",children:V.pending})]}),(0,a.jsx)(d.Z,{className:"w-8 h-8 text-yellow-400"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6 border border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e("admin.associations.stats.withAccount")}),(0,a.jsx)("p",{className:"text-2xl font-bold mt-1",style:{color:"#CC0000"},children:V.withAccount})]}),(0,a.jsx)(m,{className:"w-8 h-8 text-gray-400"})]})})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow mb-6 p-4 border border-gray-100",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,a.jsx)("input",{type:"text",placeholder:e("admin.associations.searchPlaceholder"),value:M,onChange:e=>A(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:border-red-600"})]}),(0,a.jsxs)("select",{value:P,onChange:e=>q(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:border-red-600",children:[(0,a.jsx)("option",{value:"",children:e("admin.associations.allStatus")}),(0,a.jsx)("option",{value:"active",children:e("admin.associations.status.active")}),(0,a.jsx)("option",{value:"pending",children:e("admin.associations.status.pending")}),(0,a.jsx)("option",{value:"inactive",children:e("admin.associations.status.inactive")}),(0,a.jsx)("option",{value:"suspended",children:e("admin.associations.status.suspended")})]}),(0,a.jsxs)("button",{onClick:()=>E(!0),className:"px-6 py-2 text-white rounded-lg font-medium transition-colors flex items-center gap-2",style:{backgroundColor:"#CC0000"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#B30000",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#CC0000",children:[(0,a.jsx)(p.Z,{className:"w-5 h-5"}),e("admin.associations.add")]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden border border-gray-100",children:u?(0,a.jsxs)("div",{className:"p-12 text-center",children:[(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-t-transparent",style:{borderColor:"#CC0000"}}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:e("admin.associations.loading")})]}):0===s.length?(0,a.jsxs)("div",{className:"p-12 text-center",children:[(0,a.jsx)(c.Z,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:e("admin.associations.noAssociations")})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>G("id"),children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["ID",(0,a.jsx)(Q,{field:"id"})]})}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>G("name"),children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e("admin.associations.name"),(0,a.jsx)(Q,{field:"name"})]})}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("admin.associations.contact")}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>G("city"),children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e("admin.associations.location"),(0,a.jsx)(Q,{field:"city"})]})}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>G("status"),children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e("admin.associations.status.label"),(0,a.jsx)(Q,{field:"status"})]})}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("admin.associations.account")}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>G("created_at"),children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e("admin.associations.createdAt"),(0,a.jsx)(Q,{field:"created_at"})]})}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:e("admin.associations.actions")})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(s=>{var t;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.id}),(0,a.jsxs)("td",{className:"px-6 py-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:s.name}),s.description&&(0,a.jsx)("div",{className:"text-sm text-gray-500 mt-1 line-clamp-1",children:s.description})]}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"text-sm space-y-1",children:[s.email&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-600",children:[(0,a.jsx)(h.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"truncate max-w-xs",children:s.email})]}),s.phone&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-600",children:[(0,a.jsx)(g.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:s.phone})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"text-sm space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-900",children:[(0,a.jsx)(y.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:s.city})]}),(0,a.jsx)("div",{className:"text-gray-500 text-xs",children:s.region})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:ee(s.status)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:s.user_id?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(l.Z,{className:"w-5 h-5 text-green-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:(null===(t=s.user)||void 0===t?void 0:t.email)||e("admin.associations.accountExists")}),(0,a.jsx)("button",{onClick:()=>I(s.user_id,s.id),className:"ml-2 p-1 text-red-600 hover:bg-red-50 rounded transition-colors",title:e("admin.associations.deleteAccount"),children:(0,a.jsx)(f,{className:"w-4 h-4"})})]}):(0,a.jsxs)("button",{onClick:()=>W(s.id),className:"flex items-center gap-2 px-3 py-1 text-sm text-white rounded-lg transition-colors",style:{backgroundColor:"#CC0000"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#B30000",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#CC0000",children:[(0,a.jsx)(m,{className:"w-4 h-4"}),e("admin.associations.createAccount")]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(s.created_at).toLocaleDateString("fr-FR")}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)("button",{onClick:()=>O(s),className:"p-2 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:e("admin.associations.edit"),children:(0,a.jsx)(b.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>F(s.id),className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",title:e("admin.associations.delete"),children:(0,a.jsx)(j.Z,{className:"w-4 h-4"})})]})})]},s.id)})})]})}),X.last_page>1&&(0,a.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700",children:e("admin.associations.perPage")}),(0,a.jsxs)("select",{value:X.per_page,onChange:e=>K(Number(e.target.value)),className:"px-3 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:border-red-600",children:[(0,a.jsx)("option",{value:"10",children:"10"}),(0,a.jsx)("option",{value:"25",children:"25"}),(0,a.jsx)("option",{value:"50",children:"50"}),(0,a.jsx)("option",{value:"100",children:"100"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>J(X.current_page-1),disabled:1===X.current_page,className:"p-2 border border-gray-300 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:(0,a.jsx)(v.Z,{className:"w-5 h-5"})}),(()=>{let e=[],s=X.last_page,t=X.current_page;if(s<=7)for(let t=1;t<=s;t++)e.push(t);else if(t<=3){for(let s=1;s<=5;s++)e.push(s);e.push("..."),e.push(s)}else if(t>=s-2){e.push(1),e.push("...");for(let t=s-4;t<=s;t++)e.push(t)}else{e.push(1),e.push("...");for(let s=t-1;s<=t+1;s++)e.push(s);e.push("..."),e.push(s)}return e})().map((e,s)=>(0,a.jsx)("button",{onClick:()=>"number"==typeof e&&J(e),disabled:"number"!=typeof e,className:"px-3 py-1 border rounded text-sm ".concat(e===X.current_page?"text-white border-red-600":"border-gray-300 hover:bg-gray-50"),style:e===X.current_page?{backgroundColor:"#CC0000"}:{},children:e},s)),(0,a.jsx)("button",{onClick:()=>J(X.current_page+1),disabled:X.current_page===X.last_page,className:"p-2 border border-gray-300 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:(0,a.jsx)(N.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-700",children:[e("admin.associations.showing")," ",(X.current_page-1)*X.per_page+1," - ",Math.min(X.current_page*X.per_page,X.total)," ",e("admin.associations.of")," ",X.total]})]})]})})]}),S&&(0,a.jsx)(Z,{association:L,onClose:()=>{E(!1),z(null),$()}})]})}},8695:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});var a=t(7437);function r(e){let{title:s,subtitle:t,actions:r}=e;return(0,a.jsx)("header",{className:"bg-blue-900 shadow-md border-b border-blue-800",children:(0,a.jsx)("div",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-white font-serif tracking-tight",children:s}),(0,a.jsx)("p",{className:"text-sm text-blue-200 mt-1 font-normal",children:t})]}),r&&(0,a.jsx)("div",{className:"flex items-center gap-3",children:r})]})})})}},9763:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});var a=t(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,s)=>{let t=(0,a.forwardRef)((t,i)=>{let{color:o="currentColor",size:c=24,strokeWidth:l=2,absoluteStrokeWidth:d,className:u="",children:m,...x}=t;return(0,a.createElement)("svg",{ref:i,...r,width:c,height:c,stroke:o,strokeWidth:d?24*Number(l)/Number(c):l,className:["lucide","lucide-".concat(n(e)),u].join(" "),...x},[...s.map(e=>{let[s,t]=e;return(0,a.createElement)(s,t)}),...Array.isArray(m)?m:[m]])});return t.displayName="".concat(e),t}},5051:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]])},8842:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]])},265:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])},8420:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},6901:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},2451:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},407:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},9345:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},3774:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},4630:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},3041:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},9397:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3247:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8930:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},5131:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},2489:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[3464,6258,2971,2117,1744],function(){return e(e.s=4094)}),_N_E=e.O()}]);